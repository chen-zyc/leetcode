- [130. è¢«å›´ç»•çš„åŒºåŸŸ](#130-è¢«å›´ç»•çš„åŒºåŸŸ)
  - [é¢˜ç›®](#é¢˜ç›®)
  - [é¢˜è§£](#é¢˜è§£)
    - [æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢](#æ–¹æ³•ä¸€æ·±åº¦ä¼˜å…ˆæœç´¢)
    - [æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢](#æ–¹æ³•äºŒå¹¿åº¦ä¼˜å…ˆæœç´¢)

------------------------------

# 130. è¢«å›´ç»•çš„åŒºåŸŸ

## é¢˜ç›®

ç»™å®šä¸€ä¸ªäºŒç»´çš„çŸ©é˜µï¼ŒåŒ…å«Â 'X'Â å’ŒÂ 'O'ï¼ˆå­—æ¯ Oï¼‰ã€‚

æ‰¾åˆ°æ‰€æœ‰è¢« 'X' å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„Â 'O' ç”¨ 'X' å¡«å……ã€‚

ç¤ºä¾‹:

```
X X X X
X O O X
X X O X
X O X X
```

è¿è¡Œä½ çš„å‡½æ•°åï¼ŒçŸ©é˜µå˜ä¸ºï¼š

```
X X X X
X X X X
X X X X
X O X X
```

è§£é‡Š:

è¢«å›´ç»•çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œä»»ä½•è¾¹ç•Œä¸Šçš„Â 'O'Â éƒ½ä¸ä¼šè¢«å¡«å……ä¸ºÂ 'X'ã€‚ ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„Â 'O'Â ç›¸è¿çš„Â 'O'Â æœ€ç»ˆéƒ½ä¼šè¢«å¡«å……ä¸ºÂ 'X'ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ åœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›¸é‚»ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯â€œç›¸è¿â€çš„ã€‚

- æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
- é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/surrounded-regions
- è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚


## é¢˜è§£

> é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/surrounded-regions/solution/bei-wei-rao-de-qu-yu-by-leetcode-solution/

**å†™åœ¨å‰é¢**

æœ¬é¢˜ç»™å®šçš„çŸ©é˜µä¸­æœ‰ä¸‰ç§å…ƒç´ ï¼š

- å­—æ¯ `X`ï¼›
- è¢«å­—æ¯ `X` åŒ…å›´çš„å­—æ¯ `O`ï¼›
- æ²¡æœ‰è¢«å­—æ¯ `X` åŒ…å›´çš„å­—æ¯ `O`ã€‚

æœ¬é¢˜è¦æ±‚å°†æ‰€æœ‰è¢«å­—æ¯ `X` åŒ…å›´çš„å­—æ¯ `O` éƒ½å˜ä¸ºå­—æ¯ `X` ï¼Œä½†å¾ˆéš¾åˆ¤æ–­å“ªäº› `O` æ˜¯è¢«åŒ…å›´çš„ï¼Œå“ªäº› `O` ä¸æ˜¯è¢«åŒ…å›´çš„ã€‚

æ³¨æ„åˆ°é¢˜ç›®è§£é‡Šä¸­æåˆ°ï¼š**ä»»ä½•è¾¹ç•Œä¸Šçš„ `O` éƒ½ä¸ä¼šè¢«å¡«å……ä¸º `X`**ã€‚ æˆ‘ä»¬å¯ä»¥æƒ³åˆ°ï¼Œæ‰€æœ‰çš„ä¸è¢«åŒ…å›´çš„ `O` éƒ½ç›´æ¥æˆ–é—´æ¥ä¸è¾¹ç•Œä¸Šçš„ `O` ç›¸è¿ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ€§è´¨åˆ¤æ–­ `O` æ˜¯å¦åœ¨è¾¹ç•Œä¸Šï¼Œå…·ä½“åœ°è¯´ï¼š

- å¯¹äºæ¯ä¸€ä¸ªè¾¹ç•Œä¸Šçš„ `O`ï¼Œæˆ‘ä»¬ä»¥å®ƒä¸ºèµ·ç‚¹ï¼Œæ ‡è®°æ‰€æœ‰ä¸å®ƒç›´æ¥æˆ–é—´æ¥ç›¸è¿çš„å­—æ¯ `O`ï¼›
- æœ€åæˆ‘ä»¬éå†è¿™ä¸ªçŸ©é˜µï¼Œå¯¹äºæ¯ä¸€ä¸ªå­—æ¯ï¼š
    - å¦‚æœè¯¥å­—æ¯è¢«æ ‡è®°è¿‡ï¼Œåˆ™è¯¥å­—æ¯ä¸ºæ²¡æœ‰è¢«å­—æ¯ `X` åŒ…å›´çš„å­—æ¯ `O`ï¼Œæˆ‘ä»¬å°†å…¶è¿˜åŸä¸ºå­—æ¯ `O`ï¼›
    - å¦‚æœè¯¥å­—æ¯æ²¡æœ‰è¢«æ ‡è®°è¿‡ï¼Œåˆ™è¯¥å­—æ¯ä¸ºè¢«å­—æ¯ `X` åŒ…å›´çš„å­—æ¯ `O`ï¼Œæˆ‘ä»¬å°†å…¶ä¿®æ”¹ä¸ºå­—æ¯ `X`ã€‚

> é€†å‘æ€ç»´ ğŸ˜³

### æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢

**æ€è·¯åŠè§£æ³•**

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢å®ç°æ ‡è®°æ“ä½œã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æŠŠæ ‡è®°è¿‡çš„å­—æ¯ `O` ä¿®æ”¹ä¸ºå­—æ¯ `A`ã€‚

```go
var n, m int

func solve(board [][]byte)  {
    if len(board) == 0 || len(board[0]) == 0 {
        return
    }
    n, m = len(board), len(board[0])
    for i := 0; i < n; i++ {
        dfs(board, i, 0) // å·¦è¾¹ç•Œ
        dfs(board, i, m - 1) // å³è¾¹ç•Œ
    }
    for i := 1; i < m - 1; i++ { // [1, m-1)
        dfs(board, 0, i) // ä¸Šè¾¹ç•Œ
        dfs(board, n - 1, i) // ä¸‹è¾¹ç•Œ
    }
    for i := 0; i < n; i++ {
        for j := 0; j < m; j++ {
            if board[i][j] == 'A' { // ä¸è¾¹ç•Œç›¸è¿ï¼Œæ²¡æœ‰è¢«åŒ…å›´ï¼Œè¿˜åŸå›æ¥ã€‚
                board[i][j] = 'O'
            } else if board[i][j] == 'O' { // æ²¡æœ‰ä¸è¾¹ç•Œç›¸è¿ï¼Œè¢«åŒ…å›´äº†ã€‚
                board[i][j] = 'X'
            }
        }
    }
}

// å¦‚æœ [x][y] æ˜¯ 'O'ï¼Œé‚£ä¹ˆæ ‡è®°æˆ 'A'ï¼Œå¹¶ä¸”ç»§ç»­æŠŠå››ä¸ªæ–¹å‘ç›¸é‚»çš„ä½ç½®æ£€æŸ¥ä¸€éã€‚
func dfs(board [][]byte, x, y int) {
    if x < 0 || x >= n || y < 0 || y >= m || board[x][y] != 'O' {
        return
    }
    board[x][y] = 'A'
    dfs(board, x + 1, y)
    dfs(board, x - 1, y)
    dfs(board, x, y + 1)
    dfs(board, x, y - 1)
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n \times m)$ï¼Œå…¶ä¸­ n å’Œ m åˆ†åˆ«ä¸ºçŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æ·±åº¦ä¼˜å…ˆæœç´¢è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€ä¸ªç‚¹è‡³å¤šåªä¼šè¢«æ ‡è®°ä¸€æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(n \times m)$ï¼Œå…¶ä¸­ n å’Œ m åˆ†åˆ«ä¸ºçŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚ä¸»è¦ä¸ºæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ ˆçš„å¼€é”€ã€‚

### æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢

**æ€è·¯åŠè§£æ³•**

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢å®ç°æ ‡è®°æ“ä½œã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æŠŠæ ‡è®°è¿‡çš„å­—æ¯ `O` ä¿®æ”¹ä¸ºå­—æ¯ `A`ã€‚

```go
var (
    dx = [4]int{1, -1, 0, 0}
    dy = [4]int{0, 0, 1, -1}
)
func solve(board [][]byte)  {
    if len(board) == 0 || len(board[0]) == 0 {
        return
    }
    n, m := len(board), len(board[0])
    queue := [][]int{}
    // å·¦å³è¾¹ç•Œçš„ 'O' åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ã€‚
    for i := 0; i < n; i++ {
        if board[i][0] == 'O' {
            queue = append(queue, []int{i, 0})
        }
        if board[i][m-1] == 'O' {
            queue = append(queue, []int{i, m - 1})
        }
    }
    // ä¸Šä¸‹è¾¹ç•Œçš„ 'O' åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ã€‚
    for i := 1; i < m - 1; i++ {
        if board[0][i] == 'O' {
            queue = append(queue, []int{0, i})
        }
        if board[n-1][i] == 'O' {
            queue = append(queue, []int{n - 1, i})
        }
    }
    for len(queue) > 0 {
        cell := queue[0]
        queue = queue[1:]
        x, y := cell[0], cell[1]
        // æ ‡è®°æˆ 'A'ï¼Œå¦‚æœç›¸è¿çš„ç‚¹ä¹Ÿæ˜¯ 'O'ï¼Œç»§ç»­åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ã€‚
        board[x][y] = 'A'
        for i := 0; i < 4; i++ {
            mx, my := x + dx[i], y + dy[i]
            if mx < 0 || my < 0 || mx >= n || my >= m || board[mx][my] != 'O' {
                continue
            }
            queue = append(queue, []int{mx, my})
        }
    }
    for i := 0; i < n; i++ {
        for j := 0; j < m; j++ {
            if board[i][j] == 'A' {
                board[i][j] = 'O'
            } else if board[i][j] == 'O' {
                board[i][j] = 'X'
            }
        }
    }
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(n \times m)$ï¼Œå…¶ä¸­ n å’Œ m åˆ†åˆ«ä¸ºçŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚å¹¿åº¦ä¼˜å…ˆæœç´¢è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€ä¸ªç‚¹è‡³å¤šåªä¼šè¢«æ ‡è®°ä¸€æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(n \times m)$ï¼Œå…¶ä¸­ n å’Œ m åˆ†åˆ«ä¸ºçŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚ä¸»è¦ä¸ºå¹¿åº¦ä¼˜å…ˆæœç´¢çš„é˜Ÿåˆ—çš„å¼€é”€ã€‚

